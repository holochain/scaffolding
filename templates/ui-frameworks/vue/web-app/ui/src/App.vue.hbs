<template>
  <ClientProvider>
    <div>
      <a href="https://developer.holochain.org/get-started/" target="_blank">
        <img src="./assets/holochainLogo.svg" class="logo holochain" alt="holochain logo" />
      </a>
    </div>
    <h1>Holochain Vue hApp</h1>
    <div>
      <div class="card">
        <p v-if="loading">connecting...</p>
        <p v-else-if="error">{{ error.message }}</p>
        <p v-else>Client is connected.</p>
      </div>
      <p>Import scaffolded components into <code>src/App.vue</code> to use your hApp</p>
      <p class="read-the-docs">Click on the Holochain logo to learn more</p>
    </div>
  </ClientProvider>
</template>

<script setup lang="ts">
import { inject } from "vue";
import ClientProvider from "./ClientProvider.vue";
import { ClientKey } from "./clientProvider";

const {loading, error} = inject(ClientKey)!;
</script>

<style scoped>
  .logo {
    height: 15em;
    padding: 1.5em;
    will-change: filter;
    transition: filter 300ms;
    width: auto;
  }

  .logo:hover {
    filter: drop-shadow(0 0 2em #646cffaa);
  }

  .logo.holochain:hover {
    filter: drop-shadow(0 0 2em #61dafbaa);
  }

  .card {
    padding: 2em;
  }

  .read-the-docs {
    color: #888;
  }
</style>